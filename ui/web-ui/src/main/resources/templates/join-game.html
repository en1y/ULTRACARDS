<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="fragments/header :: head('Join Game')">
    <title>Join Game - ULTRACARDS</title>
</head>
<body>
    <div th:replace="fragments/header :: header"></div>
    
    <main class="container">
        <div class="card mt-20">
            <div class="text-center">
                <h1 class="logo">
                    <strong style="color: #ff3333;">ULTRACARDS</strong>
                </h1>
                <h2>Join Game</h2>
                <p>Select a game to join</p>
            </div>
            
            <div class="form-group mt-20">
                <label for="gameTypeFilter">Filter by Game Type</label>
                <select id="gameTypeFilter" name="gameTypeFilter">
                    <option value="all">All Games</option>
                    <option value="briskula" selected>Briskula</option>
                    <option value="durak" disabled>Durak (Coming Soon)</option>
                    <option value="treseta" disabled>Treseta (Coming Soon)</option>
                    <option value="poker" disabled>Poker (Coming Soon)</option>
                </select>
            </div>
            
            <div class="game-list mt-20">
                <!-- Sample game entries - in a real app, these would be generated dynamically -->
                <div class="card game-entry">
                    <div class="flex space-between align-center">
                        <div>
                            <h3>Briskula Game #1</h3>
                            <p>Game Type: Briskula</p>
                            <p>Players: 2/4</p>
                            <div class="player-list">
                                <div class="player-avatar">J</div>
                                <div class="player-avatar">M</div>
                            </div>
                        </div>
                        <div>
                            <form action="/games/join" method="post">
                                <input type="hidden" name="gameId" value="1">
                                <button type="submit" class="btn btn-primary">Join Game</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <div class="card game-entry">
                    <div class="flex space-between align-center">
                        <div>
                            <h3>Briskula Game #2</h3>
                            <p>Game Type: Briskula</p>
                            <p>Players: 3/4</p>
                            <div class="player-list">
                                <div class="player-avatar">A</div>
                                <div class="player-avatar">B</div>
                                <div class="player-avatar">C</div>
                            </div>
                        </div>
                        <div>
                            <form action="/games/join" method="post">
                                <input type="hidden" name="gameId" value="2">
                                <button type="submit" class="btn btn-primary">Join Game</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <div class="card game-entry">
                    <div class="flex space-between align-center">
                        <div>
                            <h3>Briskula Game #3</h3>
                            <p>Game Type: Briskula</p>
                            <p>Players: 1/4</p>
                            <div class="player-list">
                                <div class="player-avatar">X</div>
                            </div>
                        </div>
                        <div>
                            <form action="/games/join" method="post">
                                <input type="hidden" name="gameId" value="3">
                                <button type="submit" class="btn btn-primary">Join Game</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-20">
                <a href="/games" class="btn">Back to Game Selection</a>
            </div>
        </div>
    </main>
    
    <div th:replace="fragments/footer :: footer"></div>
    
    <script>
        // Simple filtering functionality
        document.addEventListener('DOMContentLoaded', function() {
            const filterSelect = document.getElementById('gameTypeFilter');
            const gameEntries = document.querySelectorAll('.game-entry');
            
            filterSelect.addEventListener('change', function() {
                const selectedType = this.value;
                
                // In a real app, this would filter the games based on the selected type
                // For now, we'll just log the selected type
                console.log('Selected game type:', selectedType);
                
                // Simulate filtering by hiding/showing games
                if (selectedType === 'all') {
                    gameEntries.forEach(entry => {
                        entry.style.display = 'block';
                    });
                } else {
                    // In this demo, all games are Briskula, so we don't need to hide any
                    // In a real app, we would check the game type and hide/show accordingly
                }
            });
        });
    </script>
</body>
</html>